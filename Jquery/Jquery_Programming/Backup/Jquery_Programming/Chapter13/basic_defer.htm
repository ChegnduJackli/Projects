<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <script src="../Script/jquery-1.11.2.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        function fib() {
            var int1 = 0,
            int2 = 1,
            int3,
            sequence = "<li>0</li><li>1</li>";

            for (var i = 0; i <= 100; i++) {
                int3 = int1 + int2;
                int1 = int2;
                int2 = int3;
                sequence += "<li>" + int3+"</li>";
            }
            $("#numbers").append(sequence).show(500);
        }
        function success() {
            $("h1").text("Fibonacci!");
        }
        function failure() {
            $("h1").text("No numbers ?");
        }

        //如果传递给$.when 的参数不是一个Deferred对象，
        //则$.when将把该参数视为一个resolved的Deferred对象。
        //如果没有其他Deferred对象传入$.when,则触发Deferred.done的执行
        $(function () {
            $.when(fib())
        .done(success)
        .fail(failure);
        });
    
    </script>
</head>
<body>
<div id="main">
<h1></h1>
<ul id="numbers"></ul>
</div>
</body>
</html>
